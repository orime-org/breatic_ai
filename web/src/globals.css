@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  border-color: hsl(var(--border));
}

html,body {
    scroll-behavior: smooth;
    overscroll-behavior-x: none; /* 禁止左右方向的浏览器历史导航，Chrome / Edge / Electron 有效 */
    background-color: #FFFFFF;
    font-family: 'PingFang SC', sans-serif !important;
}

:root {
  --background: #F3F5F9;
  --foreground: #171717;

  --op-background-card: #ffffff;
  --op-border-card: #e5e7eb;
  --border: #e74c3c;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #F3F5F9;
    --foreground: #ededed;

    --border: #e74c3c;
  }
}

/* 分镜选中人物的头像 */
.avatar-top-image img {
  object-fit: contain !important;
  object-position: center !important;
  background-color: white;
}

/* ReactFlow 节点浮动面板样式 */
.react-flow__node {
  position: relative !important;
}

.react-flow__node:hover,
.react-flow__node.selected {
  z-index: 1000 !important;
}

.node-action-panel {
  position: absolute !important;
  top: -48px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 9999 !important;
  background: white !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  padding: 4px !important;
  pointer-events: auto !important;
}

/* 确保ReactFlow容器不会裁剪浮动元素 */
.react-flow {
  overflow: visible !important;
}

.react-flow__viewport {
  overflow: visible !important;
}

/* 节点选中状态样式增强 */
.react-flow__node.selected > div {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
}

/* 多选框选样式 */
.react-flow__selection {
  background: rgba(59, 130, 246, 0.1) !important;
  border: 2px dashed #3b82f6 !important;
  border-radius: 4px !important;
}

/* 多选时的节点样式 */
.react-flow__node.selected {
  z-index: 1000 !important;
}

.react-flow__node.selected > div {
  background: rgba(59, 130, 246, 0.05) !important;
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3) !important;
  transform: scale(1.02) !important;
  transition: all 0.2s ease-in-out !important;
}

/* 框选区域样式 */
.react-flow__selection-box {
  background: rgba(59, 130, 246, 0.08) !important;
  border: 2px dashed #3b82f6 !important;
  border-radius: 6px !important;
}

/* 背景网格样式 */
.react-flow__background {
  background-color: #fafafa !important;
}

.react-flow__background .react-flow__background-pattern {
  fill: #e5e7eb !important;
  opacity: 0.4 !important;
}

/* 全局滚动条样式，包括 AntD 表格 */
/* Firefox 兼容性 */
html,
body,
*,
.ant-table-body,
.ant-table-container {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar,
*::-webkit-scrollbar,
.ant-table-body::-webkit-scrollbar,
.ant-table-container::-webkit-scrollbar {
    width: 6px !important;
    height: 6px !important;
}

/* 滚动条轨道 */
html::-webkit-scrollbar-track,
body::-webkit-scrollbar-track,
*::-webkit-scrollbar-track,
.ant-table-body::-webkit-scrollbar-track,
.ant-table-container::-webkit-scrollbar-track {
    background: transparent !important;
    border-radius: 3px !important;
}

/* 滚动条滑块 */
html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb,
*::-webkit-scrollbar-thumb,
.ant-table-body::-webkit-scrollbar-thumb,
.ant-table-container::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2) !important;
    border-radius: 3px !important;
    transition: background 0.2s ease-in-out !important;
}

/* 滑块悬停效果 */
html::-webkit-scrollbar-thumb:hover,
body::-webkit-scrollbar-thumb:hover,
*::-webkit-scrollbar-thumb:hover,
.ant-table-body::-webkit-scrollbar-thumb:hover,
.ant-table-container::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.4) !important;
}

.no-scrollbar {
  -ms-overflow-style: none;    /* IE、Edge */
  scrollbar-width: none;       /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
  width: 0 !important;         /* Chrome、Safari */
  height: 0 !important;
}